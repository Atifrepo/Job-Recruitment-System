{"ast":null,"code":"import _classCallCheck from \"/home/atif/hello-world/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/atif/hello-world/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/atif/hello-world/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/atif/hello-world/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/atif/hello-world/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/atif/hello-world/src/ViewJobs.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport { Button } from 'react-bootstrap';\nimport EditIcon from 'material-ui/svg-icons/image/edit';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport * as firebase from 'firebase';\nimport TrashIcon from 'material-ui/svg-icons/action/delete';\nimport TabIndicator from '@material-ui/core/Tabs/TabIndicator';\nimport { throws } from 'assert';\nimport { Tab } from '@material-ui/core';\n\nvar ViewJobs =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ViewJobs, _Component);\n\n  function ViewJobs() {\n    var _this;\n\n    _classCallCheck(this, ViewJobs);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ViewJobs).call(this));\n    _this.state = {\n      id: 0,\n      JobInfo: [{\n        CompanyId: '',\n        jobtitle: '',\n        description: '',\n        salary: '',\n        key: '',\n        email: ''\n      }]\n    };\n    return _this;\n  }\n\n  _createClass(ViewJobs, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      //var currentUserType=firebase.auth().currentUser.type;\n      var currentUserEmail = firebase.auth().currentUser.email;\n      console.log('currentuser email' + currentUserEmail);\n      var uid = firebase.auth().currentUser.uid;\n      console.log('current id' + uid);\n      var rootRef = firebase.database().ref();\n      var speedRef = rootRef.child('Job/');\n      speedRef.on('value', function (snap) {\n        var uid = firebase.auth().currentUser.email;\n        var userobj = snap.val();\n        var key = Object.keys(userobj);\n\n        _this2.setState({\n          key: key\n        });\n\n        for (var i = 0; i < key.length; i++) {\n          var k = key[i]; // console.log('a',userobj[k]);\n\n          if (userobj[k]) {\n            _this2.state.JobInfo[i] = {};\n            _this2.state.JobInfo[i].CompanyId = userobj[k].CompanyId;\n            _this2.state.JobInfo[i].jobtitle = userobj[k].jobtitle;\n            _this2.state.JobInfo[i].description = userobj[k].description;\n            _this2.state.JobInfo[i].salary = userobj[k].salary;\n          } else {\n            console.log(\"anything\", userobj[i].JobInfo);\n          }\n        } // if(userobj[k].type=='Admin') {\n        // }\n\n\n        _this2.setState({\n          JobInfo: _this2.state.JobInfo\n        });\n\n        _this2.setState({\n          key: _this2.state.key\n        }); //  this.setState({email:this.state.e_mail})\n\n      });\n    }\n  }, {\n    key: \"DeleteRecord\",\n    value: function DeleteRecord(row) {\n      console.log('row', row);\n      var indexValue = this.state.key[row];\n      firebase.database().ref('Job/' + indexValue).remove();\n      console.log('index value' + indexValue);\n    }\n  }, {\n    key: \"Apply\",\n    value: function Apply(row) {\n      var indexValue = this.state.key[row];\n      console.log('index value' + indexValue); // var CompanyId=firebase.auth().CompanyId;\n\n      var key = this.state.key;\n      console.log('key' + key);\n      console.log('in apply job');\n      var currentUser = firebase.auth().currentUser;\n      console.log('Current User' + currentUser);\n      var currentId = firebase.auth().currentUser.uid;\n      console.log('current id' + currentId);\n      var rootRef = firebase.database().ref();\n      var speedRef = rootRef.child('USER/' + currentId);\n      speedRef.on(\"value\", function (snap) {\n        var values = snap.val();\n        var obj = snap.val() || {\n          LName: values.lName,\n          email: values.email,\n          userId: currentId\n        };\n        rootRef = firebase.database().ref();\n        var speedRef = rootRef.child(\"Job/\" + \"Apply/\" + indexValue).set(obj);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      // console.log('jobtitle', this.state.JobInfo)\n      return React.createElement(Paper, {\n        style: {\n          backgroundColor: '#BDBDBD'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(Table, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Company Name\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Job Title\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Description\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Salary\"))), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, this.state.JobInfo.map(function (row, i) {\n        return React.createElement(TableRow, {\n          key: row.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, row.CompanyId), React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, row.jobtitle), React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, row.description), React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, row.salary), _this3.state.currentUserEmail == \"owner@admin.com\" ? React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, row.salary) : React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, \"xxxx\"), React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }), React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        }, React.createElement(Button, {\n          onClick: function onClick(id) {\n            return _this3.DeleteRecord(i);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, \"delete job\")), \":\", React.createElement(TableCell, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, React.createElement(Button, {\n          onClick: function onClick(id) {\n            return _this3.Apply(i);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, \"Apply for job\")));\n      }))));\n    }\n  }]);\n\n  return ViewJobs;\n}(Component);\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      width: '100%',\n      marginTop: theme.spacing.unit * 3,\n      overflowX: 'auto'\n    },\n    table: {\n      minWidth: 700\n    }\n  };\n};\n\nexport default withStyles(styles)(ViewJobs);","map":{"version":3,"sources":["/home/atif/hello-world/src/ViewJobs.js"],"names":["React","Component","PropTypes","withStyles","Table","TableBody","TableCell","TableHead","Button","EditIcon","RaisedButton","TableRow","Paper","firebase","TrashIcon","TabIndicator","throws","Tab","ViewJobs","state","id","JobInfo","CompanyId","jobtitle","description","salary","key","email","currentUserEmail","auth","currentUser","console","log","uid","rootRef","database","ref","speedRef","child","on","snap","userobj","val","Object","keys","setState","i","length","k","row","indexValue","remove","currentId","values","obj","LName","lName","userId","set","backgroundColor","map","DeleteRecord","Apply","styles","theme","root","width","marginTop","spacing","unit","overflowX","table","minWidth"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport {Button} from 'react-bootstrap'\nimport EditIcon from 'material-ui/svg-icons/image/edit'\n\nimport RaisedButton from 'material-ui/RaisedButton';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport * as firebase from 'firebase';\nimport TrashIcon from 'material-ui/svg-icons/action/delete';\nimport TabIndicator from '@material-ui/core/Tabs/TabIndicator';\nimport { throws } from 'assert';\nimport { Tab } from '@material-ui/core';\n\n\nclass ViewJobs extends Component {\n  constructor() {\n    super();\n    this.state = {\n      id: 0,\n      JobInfo: [{\n\n        CompanyId: '', jobtitle: '', description: '', salary: '', key: '', email:''\n      }]\n\n    }\n  }\n\n  componentDidMount() {\n    //var currentUserType=firebase.auth().currentUser.type;\n    var currentUserEmail = firebase.auth().currentUser.email\n    console.log('currentuser email' + currentUserEmail)\n    var uid = firebase.auth().currentUser.uid\n    console.log('current id' + uid)\n    const rootRef = firebase.database().ref();\n    var speedRef = rootRef.child('Job/');\n    speedRef.on('value', snap => {\n      var uid = firebase.auth().currentUser.email;\n      var userobj = snap.val();\n      var key = Object.keys(userobj);\n      this.setState({ key })\n      for (var \n        i = 0; i < key.length; i++) {\n        var k = key[i];\n\n        // console.log('a',userobj[k]);\n\n        if (userobj[k]) {\n          this.state.JobInfo[i] = {};\n\n          this.state.JobInfo[i].CompanyId = userobj[k].CompanyId;\n          this.state.JobInfo[i].jobtitle = userobj[k].jobtitle;\n          this.state.JobInfo[i].description = userobj[k].description;\n          this.state.JobInfo[i].salary = userobj[k].salary;\n\n        }\n        else { console.log(\"anything\", userobj[i].JobInfo) }\n      }\n\n\n      // if(userobj[k].type=='Admin') {\n\n      // }\n\n\n      this.setState({ JobInfo: this.state.JobInfo })\n      this.setState({key:this.state.key})\n    //  this.setState({email:this.state.e_mail})\n    })\n  }\n\n  DeleteRecord(row){\n\n    console.log('row',row );\n\n    var indexValue=this.state.key[row]\n    firebase.database().ref('Job/'+indexValue).remove();\n    console.log('index value' +indexValue)\n\n} \n\nApply(row){\n  var indexValue=this.state.key[row]\n  console.log('index value' +indexValue)\n  // var CompanyId=firebase.auth().CompanyId;\n var key=this.state.key\n  console.log('key' +key)\n    console.log('in apply job')\n     var currentUser=firebase.auth().currentUser;\n     console.log('Current User'+currentUser)\n      var currentId=firebase.auth().currentUser.uid;\n      console.log('current id' +currentId)\n      var rootRef=firebase.database().ref();\n      const speedRef=rootRef.child('USER/' +currentId);\n      speedRef.on(\"value\",snap => {\n        var values=snap.val();\n\n        let obj=(snap.val() || {\n          LName: values.lName,\n          email: values.email,\n          userId: currentId\n          \n        })\n         rootRef=firebase.database().ref();\n     const  speedRef=rootRef.child(\"Job/\" +\"Apply/\" +indexValue).set(obj)\n\n\n      })\n\n\n  }\n\n\n  render() {\n\n\n    // console.log('jobtitle', this.state.JobInfo)\n\n    return (\n      \n      <Paper style={{backgroundColor:'#BDBDBD'}}>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>Company Name</TableCell>\n              <TableCell >Job Title</TableCell>\n              <TableCell >Description</TableCell>\n              <TableCell >Salary</TableCell>\n              {/* <TableCell ><RaisedButton></RaisedButton></TableCell> */}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {this.state.JobInfo.map((row,i) => {\n              return (\n                <TableRow key={row.id}>\n\n               <TableCell >{row.CompanyId}</TableCell>\n                  <TableCell >{row.jobtitle}</TableCell>\n                  <TableCell >{row.description}</TableCell> \n<TableCell>{row.salary}</TableCell>\n\n\n\n\n                {this.state.currentUserEmail == \"owner@admin.com\" ? <TableCell >{row.salary}</TableCell>: <TableCell >xxxx</TableCell>}\n                   <TableCell ></TableCell>\n                   <TableCell> \n                    <Button onClick={(id) => this.DeleteRecord(i)} >delete job</Button>\n                    </TableCell>:\n                    <TableCell><Button onClick={(id) => this.Apply(i)} >Apply for job</Button> \n                  </TableCell> \n                  </TableRow>\n\n              );\n\n            })}\n          </TableBody>\n        </Table>\n      </Paper>\n      \n    )\n  }\n\n}\n\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n    marginTop: theme.spacing.unit * 3,\n    overflowX: 'auto',\n  },\n  table: {\n    minWidth: 700,\n  },\n});\nexport default withStyles(styles)(ViewJobs);"]},"metadata":{},"sourceType":"module"}